import{a as f,u as p,j as t,M as x,D as m,R as i}from"./GlobalContext.BRoB5C9w.js";import{r as h}from"./index.DhYZZe0J.js";/* empty css                     */const u=f([{Note:"",id:1,per:""},{Note:"",id:2,per:""},{Note:"",id:3,per:""},{Note:"",id:4,per:""}]);function d(){return{Normal:s=>{let a=0;return s.forEach(o=>{a+=Number(o.Note)}),a/s.length},Ponderado:s=>{let a=0,o=100;return s.forEach(n=>{n.per&&(o-=Number(n.per))}),s.forEach(n=>{let e=Number(n.Note),r=Number(n.per?n.per:o/s.length+1)/100;a+=e*r,console.log(r)}),{Result:a,NoPer:o}}}}function g({text:l="Nota",save:c}){const s=p(x),a=p(m);p(u),p(i);const o=d(),n=e=>{s!==null&&(Number(e.target.value)>=s&&(e.target.value=s),i.set(o.Ponderado(c()).Result))};return t.jsx("input",{className:"app-input br-6",placeholder:l,onChange:n,maxLength:a?7:4,tabIndex:0,use:"yes"})}function j({msg:l,Delete:c,save:s}){p(i),p(u);const a=d(),o=n=>{let e=0;n.target.value>=100&&(n.target.value=100),document.querySelectorAll(".app-input + .per").forEach(r=>{e+=Number(r.value)}),l(e!==100?"No suman 100%":null),i.set(a.Ponderado(s()).Result)};return t.jsxs("div",{className:"app-in-per-list f-row f-align-center",children:[t.jsx("input",{className:"app-input-per br-6 text-center",placeholder:"25%",maxLength:3,tabIndex:-1,onChange:o}),t.jsx("span",{className:"app-in-close d-flex f-center",onClick:c,children:t.jsxs("svg",{className:"no-select",height:28,viewBox:"0 0 24 24",fill:"none",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"1.5"}),t.jsx("path",{d:"M14.5 9.50002L9.5 14.5M9.49998 9.5L14.5 14.5",strokeWidth:"1.5",strokeLinecap:"round"})]})})]})}function y(){const l=p(u),[c,s]=h.useState(null),a=()=>{n(),u.set([...l,{Note:"",id:l.reduce((e,r)=>Math.max(e,r.id),0)+1,per:""}])},o=e=>{let r=l.filter(N=>N.id!==e);u.set(r)},n=()=>{let e=[];return document.querySelectorAll(".app-input-parent[inputid]").forEach(r=>{e=[...e,{Note:r.querySelector(".app-input").value,id:Number(r.getAttribute("inputid")),per:r.querySelector(".app-input-per").value}]}),u.set(e),e};return t.jsxs("ul",{className:"f-col g-15 f-center",children:[l&&l.map((e,r)=>t.jsxs("section",{className:"app-input-parent f-row f-justify-center g-15",inputid:e.id,children:[t.jsx(g,{text:e.Note?e.Note:`Nota ${e.id}`,save:n}),t.jsx(j,{Delete:()=>o(e.id),msg:s,save:n})]},e.id)),t.jsxs("section",{className:"app-input-parent f-row f-justify-center g-15",children:[t.jsx("p",{className:"app-input none f-row f-justify-end",children:c||null}),t.jsxs("div",{className:"app-in-per-list f-row f-align-center",children:[t.jsx("span",{className:"pc-btn-black d-flex f-justify-center br-6",onClick:a,children:"Add"}),t.jsx("span",{className:"app-in-close none no-select"})]})]})]})}export{y as default};
