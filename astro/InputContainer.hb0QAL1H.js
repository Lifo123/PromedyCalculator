import{u as c,j as t,M as x,D as m,A as i,R as f,N as d}from"./App.CoEJGoIH.js";import{r as g}from"./index.DhYZZe0J.js";/* empty css                     */function N(){return{Normal:n=>{let s=0;return n.forEach(r=>{s+=Number(r.Note)}),s/n.length},Ponderado:n=>{let s=0,r=100,l=n.length;return n.forEach(e=>{e.per&&(r-=Number(e.per),l--)}),n.forEach(e=>{let a=Number(e.Note),u=Number(e.per?e.per:r/n.length+1)/100;e.per?s+=a*u:s=s}),r!==100&&(r=r/l),{Result:s,NoPer:r}}}}function j({text:o="Nota",save:p}){const n=c(x),s=c(m);c(i),c(f);const r=N(),l=e=>{n!==null&&(Number(e.target.value)>=n&&(e.target.value=n),f.set(r.Ponderado(p()).Result))};return t.jsx("input",{className:"app-input br-6",placeholder:o,onChange:l,maxLength:s?7:4,tabIndex:0,use:"yes"})}function b({msg:o,Delete:p,save:n}){c(f),c(i);const s=c(d),r=N(),l=e=>{let a=0;e.target.value>=100&&(e.target.value=100),document.querySelectorAll(".app-input-per").forEach(h=>{a+=Number(h.value)}),o(a!==100?"No suman 100%":null);const u=r.Ponderado(n());f.set(u.Result),d.set(u.NoPer)};return t.jsxs("div",{className:"app-in-per-list f-row f-align-center",children:[t.jsx("input",{className:"app-input-per br-6 text-center",placeholder:s?`${Math.round(s)}%`:"0%",maxLength:3,tabIndex:-1,onChange:l}),t.jsx("span",{className:"app-in-close d-flex f-center",onClick:p,children:t.jsxs("svg",{className:"no-select",height:28,viewBox:"0 0 24 24",fill:"none",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"1.5"}),t.jsx("path",{d:"M14.5 9.50002L9.5 14.5M9.49998 9.5L14.5 14.5",strokeWidth:"1.5",strokeLinecap:"round"})]})})]})}function I(){const o=c(i);c(d);const[p,n]=g.useState(null),s=()=>{let e=l();i.set([...o,{Note:"",id:o.reduce((a,u)=>Math.max(a,u.id),0)+1,per:""}]),d.set(100/(e.length+1))},r=e=>{let a=o.filter(u=>u.id!==e);i.set(a),d.set(100/a.length)},l=()=>{let e=[];return document.querySelectorAll(".app-input-parent[inputid]").forEach(a=>{e=[...e,{Note:a.querySelector(".app-input").value,id:Number(a.getAttribute("inputid")),per:a.querySelector(".app-input-per").value}]}),i.set(e),e};return t.jsxs("ul",{className:"f-col g-15 f-center",children:[o&&o.map((e,a)=>t.jsxs("section",{className:"app-input-parent f-row f-justify-center g-15",inputid:e.id,children:[t.jsx(j,{text:e.Note?e.Note:`Nota ${e.id}`,save:l}),t.jsx(b,{Delete:()=>r(e.id),msg:n,save:l})]},e.id)),t.jsxs("section",{className:"app-input-parent f-row f-justify-center g-15",children:[t.jsx("p",{className:"app-input none f-row f-justify-end",children:p||null}),t.jsxs("div",{className:"app-in-per-list f-row f-align-center",children:[t.jsx("span",{className:"pc-btn-black d-flex f-justify-center br-6",onClick:s,children:"Add"}),t.jsx("span",{className:"app-in-close none no-select"})]})]})]})}export{I as default};
